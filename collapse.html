<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="UTF-8" />
    <title>پایین‌ترین قیمت بیت‌کوین دیروز</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="flex items-center justify-center h-screen bg-gray-100">
    <div class="bg-white p-6 rounded-xl shadow-md text-center max-w-sm w-full">
      <h1 class="text-2xl font-bold mb-4">📉 پایین‌ترین قیمت بیت‌کوین دیروز</h1>
      <p id="low-price" class="text-xl text-gray-700">در حال بارگذاری...</p>
    </div>

    <script>
      async function fetchBitcoinLowPrice() {
        try {
          const res = await fetch(
            "https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range?vs_currency=usd&from=1685404800&to=1685491200"
          );
          const data = await res.json();
          const lowPrice = data.prices.reduce(
            (min, price) => (price[1] < min ? price[1] : min),
            Infinity
          );
          const formattedPrice = lowPrice.toLocaleString("en-US", {
            style: "currency",
            currency: "USD",
          });
          document.getElementById("low-price").textContent = formattedPrice;
        } catch (error) {
          document.getElementById("low-price").textContent =
            "خطا در دریافت داده";
        }
      }

      fetchBitcoinLowPrice();
    </script>
  </body>
</html>
